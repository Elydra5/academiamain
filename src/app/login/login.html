<div class="login-container">
  <div class="login-card">
    <div class="tab-switcher">
      <button 
        class="tab-btn" 
        [class.active]="isLoginMode" 
        (click)="switchToLogin()"
        type="button">
        Login
      </button>
      <button 
        class="tab-btn" 
        [class.active]="!isLoginMode" 
        (click)="switchToRegister()"
        type="button">
        Register
      </button>
      <div class="tab-indicator" [class.register]="!isLoginMode"></div>
    </div>

    <div class="form-container" [class.register-mode]="!isLoginMode">
      <form class="login-form" [class.hidden]="!isLoginMode" (ngSubmit)="onLogin()" #loginForm="ngForm">
        <h2 class="form-title">Welcome Back</h2>
        <p class="form-subtitle">Sign in to your account</p>

        <div class="form-group">
          <label for="loginUsername">Username</label>
          <input 
            id="loginUsername" 
            type="text" 
            [(ngModel)]="loginData.username" 
            name="username"
            class="form-input" 
            required
            placeholder="Enter your username">
        </div>

        <div class="form-group">
          <label for="loginPassword">Password</label>
          <input 
            id="loginPassword" 
            type="password" 
            [(ngModel)]="loginData.password" 
            name="password"
            class="form-input" 
            required
            placeholder="Enter your password">
        </div>

        <div class="form-footer">
          <a href="/forgot-password" class="forgot-password-link">Forgot password?</a>
        </div>

        <button type="submit" class="submit-btn" [disabled]="loginForm.invalid || isLoading">
          <span *ngIf="!isLoading">Sign In</span>
          <span *ngIf="isLoading">Loading...</span>
        </button>

        <div *ngIf="errorMessage" class="error-message">
          {{ errorMessage }}
        </div>
      </form>

      <!-- Register Form -->
      <form class="register-form" [class.hidden]="isLoginMode" (ngSubmit)="onRegister()" #registerForm="ngForm">
        <h2 class="form-title">Create Account</h2>
        <p class="form-subtitle">Sign up to get started</p>

        <div class="form-group">
          <label for="registerEmail">Email</label>
          <input 
            id="registerEmail" 
            type="email" 
            [(ngModel)]="registerData.email" 
            name="email"
            class="form-input" 
            required
            email
            placeholder="Enter your email">
        </div>

        <div class="form-group">
          <label for="registerUsername">Username</label>
          <input 
            id="registerUsername" 
            type="text" 
            [(ngModel)]="registerData.username" 
            name="username"
            class="form-input" 
            required
            placeholder="Enter your username">
        </div>

        <div class="form-group">
          <label for="registerPassword">Password</label>
          <input 
            id="registerPassword" 
            type="password" 
            [(ngModel)]="registerData.password" 
            name="password"
            class="form-input" 
            required
            placeholder="Enter your password">
        </div>

        <div class="form-group">
          <label for="registerPasswordConfirm">Confirm Password</label>
          <input 
            id="registerPasswordConfirm" 
            type="password" 
            [(ngModel)]="registerData.passwordConfirm" 
            name="passwordConfirm"
            class="form-input" 
            required
            placeholder="Confirm your password">
        </div>

        <div *ngIf="registerData.password && registerData.passwordConfirm && registerData.password !== registerData.passwordConfirm" 
             class="error-message">
          Passwords do not match
        </div>

        <button type="submit" class="submit-btn" [disabled]="registerForm.invalid || isLoading || registerData.password !== registerData.passwordConfirm">
          <span *ngIf="!isLoading">Sign Up</span>
          <span *ngIf="isLoading">Loading...</span>
        </button>

        <div *ngIf="errorMessage" class="error-message">
          {{ errorMessage }}
        </div>
      </form>
    </div>
  </div>
</div>
